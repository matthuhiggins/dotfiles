function ec2 {
  knife search node -a ec2.public_hostname "chef_environment:$1 AND role:content_system_$2"
}

function ec2screen {
  TERM=xterm knife ssh -a ec2.public_hostname "chef_environment:$1 AND role:content_system_$2" screen
}

function ec2ssh {
  knife ssh "chef_environment:$1 AND role:content_system_$2" "$3"
}

function ec2deploy {
  knife ssh "chef_environment:$1 AND role:content_system_$2" "axle deploy"
}

function ec2console {
  IP=$(knife search "chef_environment:$1 AND role:content_system_$2" | grep IP | head -1 | awk '{print $2}')
  ssh -t $IP "source /etc/profile; axle console"
}

function ec2dump {
  IP=$(knife search "chef_environment:$1 AND role:content_system_$2" | grep IP|head -1|awk '{print $2}')
  ssh -t $IP "source /etc/profile; axle console"

  # ssh [ip]
  # sudo mysqldump --host=place-directory-production.cgvlc4fhupvi.us-east-1.rds.amazonaws.com --user=content_system_ --password=eemaizaemo9cahR  --ignore-table=content_system_.subscription_notifications --ignore-table=content_system_.delayed_jobs content_system_ | gzip > /tmp/dump.sql.gz
  #
  # scp [ip]:/tmp/dump.sql.gz dev_data/
  # gunzip < dev_data/dump.sql.gz | mysql -u root content_system_
}
